<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.canvas.Canvas?>

<VBox xmlns="http://javafx.com/javafx/11.0.1"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.snakegame.snake.SnakeGame">

    <!-- BARRE DE TITRE CUSTOM -->
    <HBox fx:id="titleBar" styleClass="custom-titlebar" alignment="CENTER_LEFT" spacing="10.0">

        <!-- Icône et titre -->
        <HBox alignment="CENTER_LEFT" spacing="8.0" styleClass="title-section">
            <Label text="🕹️" styleClass="app-icon" />
            <Label text="RETRO ARCADE" styleClass="app-title" />
        </HBox>

        <!-- Spacer pour pousser les boutons à droite -->
        <HBox HBox.hgrow="ALWAYS" />

        <!-- Boutons de contrôle -->
        <HBox spacing="5.0" styleClass="control-buttons">
            <Button fx:id="minimizeButton" styleClass="titlebar-button, minimize-button" text="–"
                    onAction="#onMinimizeButtonClick" />
            <Button fx:id="closeButton" styleClass="titlebar-button, close-button" text="✕"
                    onAction="#onCloseButtonClick" />
        </HBox>

    </HBox>

    <!-- CONTENU PRINCIPAL DU JEU SNAKE -->
    <VBox alignment="CENTER" spacing="10" styleClass="snake-game-container"
          xmlns="http://javafx.com/javafx/11.0.1"
          xmlns:fx="http://javafx.com/fxml/1">

        <!-- Panneau d'informations en haut -->
        <HBox spacing="20" alignment="CENTER" styleClass="snake-info-panel">
            <Label fx:id="scoreLabel" text="SCORE: 0000" styleClass="snake-score" />
            <Label fx:id="lengthLabel" text="LONGUEUR: 1" styleClass="snake-length" />
            <Label fx:id="speedLabel" text="VITESSE: 1" styleClass="snake-speed" />
            <Label fx:id="highScoreLabel" text="HIGH SCORE: 0000" styleClass="snake-highscore" />
        </HBox>

        <!-- Canvas de jeu -->
        <Canvas fx:id="gameCanvas" width="800" height="600" styleClass="snake-canvas" />

        <!-- Statistiques totales -->
        <Label fx:id="totalStatsLabel" text="Parties: 0 | Total: 0 | Moyenne: 0" styleClass="snake-length" />

        <!-- Panneau de contrôles -->
        <HBox spacing="15" alignment="CENTER">
            <Button fx:id="startButton" text="START" styleClass="snake-control-button"
                    onAction="#handleStartButtonClick" />
            <Button fx:id="restartButton" text="RESTART" styleClass="snake-control-button, snake-restart-button"
                    onAction="#handleRestartButtonClick" />
            <Button fx:id="menuButton" text="MENU" styleClass="snake-control-button, snake-menu-button"
                    onAction="#returnToMenu" />
        </HBox>

        <!-- Instructions -->
        <Label text="Flèches: Déplacer | ENTRÉE: Start | ESPACE: Pause | R: Restart | ESC: Menu"
               styleClass="snake-controls" />

        <!-- Padding -->
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>

    </VBox>
</VBox>